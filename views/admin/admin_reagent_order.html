<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" type="text/css" href="/packages/layui-master/src/css/layui.css">
    <link rel="stylesheet" type="text/css" href="/packages/layui-master/src/css/admin.css">
    <script type="text/javascript" src="/packages/jquery.js"></script>
    <script type="text/javascript" src="/js/logout.js"></script>
    <script type="text/javascript" src="/js/cookie.js"></script>

    <script type="text/javascript" src="/js/admin.js"></script>
    <script type="text/javascript" src="/packages/layui-master/src/layui.js"></script>
    <title>试剂预约</title>
    <style>
        .layui-layout-admin .layui-header {
            background-color: #009688;
        }

        .layui-layout-admin .layui-logo {
            background-color: #009688;
        }

        .layadmin-shortcut ul li {
            cursor: pointer;
        }
    </style>
</head>
<body class="layui-layout-body">
<div id="LAY_app">
    <div class="layui-layout layui-layout-admin">
        <div class="layui-header">
            <!--导航栏左侧区域-->
            <ul class="layui-nav layui-layout-left">
                <li class="layui-nav-item layadmin-flexible">
                    <a href="#" layadmin-event="flexible" title="侧边伸缩">
                        <i class="layui-icon layui-icon-shrink-right" id="LAY_app_flexible"></i>
                    </a>
                </li>

            </ul>
            <!--导航栏右侧区域-->
            <ul class="layui-nav layui-layout-right">
                <li class="layui-nav-item">
                    <a href="javascript:;">
                        <img src="http://t.cn/RCzsdCq" class="layui-nav-img">
                        <span id='username'></span>
                    </a>
                </li>
                <li class="layui-nav-item"><a onclick="zx()" style="cursor: pointer;">注销</a></li> 
            </ul>
        </div>

        <div class="layui-side layui-side-menu">
            <div class="layui-side-scroll">
                <!-- 左侧导航区域（可配合layui已有的垂直导航） -->
                <div class="layui-logo" lay-href="">
                    <span>实验室安全信息管理系统</span>
                </div>

                <ul class="layui-nav layui-nav-tree" lay-shrink="all" id="LAY-system-side-menu"
                    lay-filter="layadmin-system-side-menu">
                    <li class="layui-nav-item">
                        <a class="" href="javascript:;" name="主页" id="homepage">
                            <i class="layui-icon layui-icon-home"></i>
                            <cite>主页</cite>
                            <span class="layui-bav-more"></span>
                        </a>
                        <dl class="layui-nav-child">
                            <dd><a href="/admin_index">后台主页</a></dd>
                        </dl>
                    </li>

                    <li class="layui-nav-item "><a href="#" name="云链接" id="link_others">
                        <i class="layui-icon layui-icon-headset"></i>
                        <cite>实验室程序管理</cite>
                    </a>
                        <dl class="layui-nav-child">
                            <dd><a href="admin_lab_info" >一般信息</a></dd>
                            <dd><a href="admin_lab_danger">风险信息</a>
                            </dd>
                            <dd><a href="admin_lab_urgent">应急管理</a></dd>
                        </dl>
                    </li>
                    <li class="layui-nav-item layui-nav-itemed"><a href="#" name="云链接" id="background_manage">
                        <i class="layui-icon layui-icon-headset"></i>
                        <cite>实验室后台管理</cite>
                    </a>
                        <dl class="layui-nav-child">
                            <dd><a href="javascript:;" class="layui-nav-itemed">仪器设备管理</a>
                                <dl class="layui-nav-child">
                                    <dd><a href="admin_device_manage">设备管理</a></dd>
                                    <dd><a href="admin_cylinder_manage">气瓶管理</a></dd>
                                    <dd><a href="/admin_reagent_manage">试剂管理</a></dd>
                                </dl>
                            </dd>
                            <dd class="layui-nav-itemed"><a href="javascript:;" class="layui-nav-itemed">预约管理</a>
                                <dl class="layui-nav-child">
                                    <dd><a href="/admin_room_order#">实验室预约</a></dd>
                                    <!-- <dd><a href="#">设备预约</a></dd>
                                    <dd><a href="/admin_reagent_order" class="layui-this">试剂预约</a></dd> -->
                                </dl>
                            </dd>
                            <dd><a href="/admin_user_manage" name="用户管理" id="user_manage">用户管理</a></dd>
                            <dd><a href="/admin_info_manage" name="实验室录入清单管理">实验室录入清单管理</a></dd>

                            <dd><a href="javascript:;" class="layui-nav-itemed">检查表</a>
                                <dl class="layui-nav-child">
                                    <dd><a href="admin_security_check">日常安全检查</a></dd>
                                    <dd><a href="admin_security_check2"> 高校实验室安全检查</a></dd>
                                    <dd><a href="admin_security_check3"> 安全自查情况登记表</a></dd>
                                    <!-- <dd><a href="#">特殊安全检查</a></dd> -->
                                </dl>
                            </dd>
                        </dl>
                    </li>
                    <li class="layui-nav-item layui-nav-itemed">
                        <a class="" href="admin_journal" name="主页" id="daily">
                            <i class="layui-icon layui-icon-slider"></i>
                            <cite>实验室管理日志</cite>
                            <span class="layui-bav-more"></span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <!--页面标签-->
        <div class="layadmin-pagetabs" id="LAY_app_tabs">

        </div>
        <!--页面body部分-->
        <div class="layui-body">
            <div class="layui-fluid">
                <div class="layui-card">
                    <div class="layui-form layui-card-header layuiadmin-card-header-auto">
                        <div class="layui-form-item">
                            <h3 style="font-size: 30px;text-align: center">实验室试剂预约管理</h3>
                        </div>
                    </div>

                    <div class="layui-card-body">
                        <table id="reagentView" lay-filter="test"></table>
                    </div>
                </div>

            </div>
        </div>



    </div>
</div>
<script type="text/html" id="toolbarDemo">
    <div class="layui-btn-container">
        <!--<button class="layui-btn layui-btn-sm" lay-event="add">添加</button>-->
        <button class="layui-btn layui-btn-sm" lay-event="delete">批量删除</button>
    </div>
</script>
<script type="text/html" id="barDemo">
    <a class="layui-btn layui-btn-xs" lay-event="edit">同意</a>
    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">拒绝</a>
</script>



<script>
    $('#username').html(username);
    layui.use('element', function () {
        var element = layui.element;
    });


    layui.use('table', function(){
        var table = layui.table;
        table.render({
            //默认为get请求
            elem: '#reagentView'
            ,url:'/reagent_order'
            ,cellMinWidth: 120 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
            ,page:true
            ,toolbar: '#toolbarDemo'
            ,cols: [[
                {type:'checkbox'}
                ,{field:'reagent_ID', title: '试剂编号', sort: true, minwidth:80}
                ,{field:'reagent_name', title: '试剂名称',minwidth:150}
                ,{field:'reagent_dose',  title: '申请剂量',}
                ,{field:'purpose', title: '用途',}
                ,{field: 'applicant', title:'申请人',}
                ,{fixed: 'right', title:'操作', toolbar: '#barDemo', width:150,align:'center'}

            ]],

        });
        //监听事件
        table.on('toolbar(test)', function(obj){
            var checkStatus = table.checkStatus(obj.config.id);
            console.log(obj.event)
            switch(obj.event){
                case 'add':
                    // layer.msg('添加');
                    layer.open({
                        type:2,
                        title:'新增用户',
                        area:["500px","460px"],
                        btn: ['确定', '取消'],    // 自定义设置多个按钮
                        btn1:function(index, elem){
                            layer.msg('新增成功',{icon: 1});
                            layer.close(index);
                        },
                        btn2:function(index, elem){
                            layer.msg('已取消')
                            layer.close(index);
                        },
                        btnAlign: 'c',// 设置按钮位置
                    });
                    break;
                case 'delete':
                    layer.msg('删除');
                    break;
            }
        });

    });


</script>
</body>
</html>
